<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8">
	<title>Какая сейчас неделя? Четная или нечетная?</title>
	<meta name="description" content="Какая сейчас неделя? Четная или нечетная? Какая неделя по счету? Какая сейчас учебная неделя? Номер недели в году? Ответ на эти вопросы вы найдете на этой странице">
	<meta name="keywords" content="какая сейчас неделя в году? четная или нечетная по счету четные нечетные дни недели идет сейчас четные и нечетные дни недели сейчас 2015 четные и нечетные недели 2015 года сегодня нечетные недели 2014 расписание четных и нечетных недель учебная">

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
	<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
	<link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
</head>

<body>
	<div class="page-header">
		<h1 class="project-name">Какая сейчас неделя?</h1>
		<h2 class="project-tagline">Четная или нечетная?</h2>
		<noscript>
			<mark class="red">Включите JavaScript для корректной работы ресурса!</mark>
		</noscript>
	</div>

	<div class="main-content">
		<h3>
			<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true">
				<span class="octicon octicon-link">#</span>
			</a> Дата и время</h3>

		<blockquote>
			<p>Сегодня
				<span id="date"></span> (
				<strong>
					<span id="week"></span> неделя в году</strong>). *</p>
		</blockquote>


		<h3>
			<a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true">
				<span class="octicon octicon-link">#</span>
			</a> Учебная неделя</h3>

		<p>Весненний семестр,
			<span id="years"></span> учебного года.</p>
		<blockquote>
			<p>
				<big>
					<mark id="red" class="red">НЕ</mark>четная неделя
					<span id="warnEndWeekZ">**</span>
				</big>
			</p>
		</blockquote>

		<small>
			<p style="margin-bottom:.2em; margin-top: 3em;">
				<mark id="warnEndWeek" class="red">** текущая неделя подходит к концу, следующая будет ЧЕТНАЯ, не перепутайте :-)</mark>
			</p>
			<p style="margin-top:0">
				<mark class="yellow">* дата и время берутся из установок на вашем устройстве. Установите текущую дату и время на вашем устройстве для правильного определения четности недели</mark>
			</p>
			<br>
			<br>
			<br>
			<p style="margin-bottom:0">Эту страницу можно найти по запросам:</p>
			<ul class="tags">
				<li>какая сейчас неделя в году?</li>
				<li>четная или нечетная неделя</li>
				<li>неделя по счету</li>
				<li>четные и нечетные дни недели</li>
				<li>какая идет неделя четная или нечетная</li>
				<li>какая неделя четная или нечетная</li>
				<li>четная или нечетная неделя сейчас</li>
				<li>четные и нечетные дни недели</li>
				<li>сейчас четная или нечетная неделя 2015</li>
				<li>какая сейчас неделя четная или нечетная 2015</li>
				<li>четные и нечетные недели 2015 года</li>
				<li>сегодня четная или нечетная неделя</li>
				<li>какая сегодня неделя четная или нечетная</li>
				<li>четные нечетные недели 2014</li>
				<li>расписание четных и нечетных недель</li>
				<li>какая сейчас учебная неделя четная или нечетная</li>
			</ul>
		</small>
		<div class="site-footer">
			<span class="site-footer-credits">По любым вопросам и предложениям пишите на <a href="mailto:ymatuhin@yandex.ru">ymatuhin@yandex.ru</a>
				<br>Юрий [<a href="//ymatuhin.ru">ymatuhin</a>] Матюхин © 2015</span>
		</div>
	</div>

	<script src="moment.min.js"></script>
	<!-- <script src="ru.js"></script> -->
	<script>
		moment.locale('ru');

		function getISOWeeks(y) {
			var d, isLeap;
			d = new Date(y, 0, 1);
			isLeap = new Date(y, 1, 29).getMonth() === 1;
			return d.getDay() === 4 || isLeap && d.getDay() === 3 ? 53 : 52
		}

		var curWeek = '',
			years = '';

		var today, year, week, prevYear, nextYear, this1sp, this1spF, prev1sp, prev1spF, chetnaya;

		function update() {
			today = moment();
			year = moment().format('YYYY')
			prevYear = moment().subtract(1, 'y').format('YYYY');
			nextYear = +year + 1 + ''

			this1sp = moment(year + '-09-01', 'YYYY-MM-DD');
			this1spF = this1sp.format('WW');
			prev1sp = moment(year + '-09-01', 'YYYY-MM-DD').subtract(1, 'year');
			prev1spF = prev1sp.format('WW');

			week = moment().format('WW');

			if (today.isBefore(this1sp)) {
				var daysInYear = getISOWeeks(+prevYear);
				years = prevYear + '/' + year;
				curWeek = daysInYear - prev1spF + +week;

			} else {
				years = year + '/' + nextYear;
				curWeek = week - this1spF;
			}

			chetnaya = !!(curWeek % 2);
		}

		update();

		var _w = document.getElementById('week');
		var _d = document.getElementById('date');
		var _r = document.getElementById('red');
		var _wEW = document.getElementById('warnEndWeek');
		var _wEWz = document.getElementById('warnEndWeekZ');

		function updateHTML() {
			update();

			console.log('today', today.format('e'));

			_w.innerHTML = moment().format('WW');
			_d.innerHTML = moment().format('MMMM Do YYYY, h:mm:ss');
			_r.style.display = (chetnaya) ? 'none' : '';
			_wEW.style.display = (+today.format('e') < 6) ? 'none' : '';
			_wEWz.style.display = (+today.format('e') < 6) ? 'none' : '';
		}

		updateHTML();
		setInterval(updateHTML, 1000);
	</script>

	<!-- Yandex.Metrika counter -->
	<script type="text/javascript">
		(function(d, w, c) {
			(w[c] = w[c] || []).push(function() {
				try {
					w.yaCounter30600982 = new Ya.Metrika({
						id: 30600982,
						clickmap: true
					});
				} catch (e) {}
			});
			var n = d.getElementsByTagName("script")[0],
				s = d.createElement("script"),
				f = function() {
					n.parentNode.insertBefore(s, n);
				};
			s.type = "text/javascript";
			s.async = true;
			s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";
			if (w.opera == "[object Opera]") {
				d.addEventListener("DOMContentLoaded", f, false);
			} else {
				f();
			}
		})(document, window, "yandex_metrika_callbacks");
	</script>
	<noscript>
		<div>
			<img src="//mc.yandex.ru/watch/30600982" style="position:absolute; left:-9999px;" alt="" />
		</div>
	</noscript>
	<!-- /Yandex.Metrika counter -->
</body>

</html>
